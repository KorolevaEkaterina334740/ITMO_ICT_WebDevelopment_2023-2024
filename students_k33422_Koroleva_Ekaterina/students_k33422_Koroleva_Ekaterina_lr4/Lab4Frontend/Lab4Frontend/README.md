# Документация по Лабораторной работе

## Стили 

Все стили задаются в теге `<style>`, там мы пытаемся указывать отступы, цвета, шрифты, положения элементов и т.д.

## Переменные состояния data()

Переменные задаются внутри тега `<script>`. Мы экспортируем объект, в котором находится функция `data()`. Эта функция возвращает объект с переменными, которые изменятся не только в коде, но и на странице - меняют состояние. Такие переменные нужны, чтоб создавать двухстороннее связывние, также для удобной подачи запросов из формы.

## Запросы к серверу

Сервер развёрнут локально по адрусу `http://localhost:8000`, значит все запросы будем отправлять на этот адрес. Отправлять запросы будем через `axios`, так как он довольно простой и компактный. Чтоб задать функцию запроса, нужно экспортировать объект с полем methods внутри тега `<script>`. В этом поле будут храниться все функции, которые нам необходимо вызывать в коде. Так как запросы асинхронные, задаём ассинхронную функцию и в структуру `try/catch` заносим запрос к серверу в переменную`axios.get("link")`, тут `get` - метод, с которым отправляется запрос. Далее смотрим, что сохранилось в переменную и заносим нужное в переменную состояния. `catch` в данном случае будет отлавливать ошибки со стороны сервера и пользователя, чтоб не случались непредвиденные ситуации.

## Роутинг

Основной роутинг находится в файле `src/router/index.js`, там задаются все ссылки, по котором пользователь сможет попасть на другие страницы. Используется метод `createRouter()`, внутри задаётся поле routes с массивов с основными роутами - ссылками и компонентами по данным ссылкам. В `App.vue` используются компоненты `RouterLink` и `RouterView` - первый задаёт поле в виде ссылки, которое ведёт на страницу, указанную в атрибуте `to`, второй задаёт область, в которой отрисовывается компонент. У нас получается обёртка с Header и Nav для всех страниц. Далее уже часто применяется компонент `RouterLink` для перехода между страницами. Также часто используется конструкция `router.push("path")` - это автоматическое переключение ссылки без нажатия на компонент. В данном проекте используется, чтоб перейти со страницы создания студента на страницу всех студентов. 

## Компоненты

Всего в приложении используется два компонента - `Leson` и `Student`. Используются они, так как эти части много повторяются, поэтому намного проще и удобнее разделить всё на компоненты. В `Leson` просто передаются нужные пропсы и выводятся, стилизуются. Компонент `Student` же имеет небольшую логику - также передаются пропсы и отрисовываются нужных местах. Но дополнительно к этому, добавляются две иконки - удалить и редактировать. Радектировать - использует `RouteLink` и переходит на другую страницу. А удалить сразу удаляет уз базы данных студента и всю информацию о нём. Для удаления используется метод `deleteStudent`, который отправляет запрос `delete` на сервер.

### HomeWiev

`HomeWiev` - основная страница, в которой показывается таблица с расписанием занятий. Для правильных данных, мы отправляем несколько запросов на сервр и получаем ответы с данными об уроках. Далее мы передаём всё в компонент `Leson` с помощью конструкции `v-for` - она проходит по всем элементам массива. В нашем случае мы проходимся по всем урокам и заполняем атрибуты `Leson` нужными данными. Остаётся одна проблема - всё выдаётся в виде ID, а нам нужны названия. Для этого мы используем метод `filter` и ищем в другом массиве тот элемент, который по ID совпадает с элементом на уроке. Далее берём его и достаём оттуда название.

### AddShedul

`AddShedul` - страница, на которую можно попасть из главной, нажам на кнопку создания занятия. Все данные в нём берётся так же, как и в `HomeWiev`. По сути это обычная форма для ввода данных и отправки на сервер. Внутри `input` и `selector` мы используем конструкцию `v-model` - она позаоляет нам привязать значение в инпуте к переменной состояния. Благодаря этому, запрос к серверу подаётся очень просто.

### Students

`Students` - страница, на коотрую можно попасть через навигуцию. На этой странице показана таблица со всеми учениками. Выводится всё так же через `v-for`, также используются компоненты `Student`. Ниже есть кнопка "добавить студента", которая перенаправляет нас на страницу `StudentsCreate`

### StudentsCreate и StudentsEdit

`StudentsCreate` и `StudentsEdit` - похожие страницы, на которых мы подаём запрос к серверу и изменяем данные в бд и таблице. Различаются тем, что в первом анных нет и используется метод `post`, а во втором данные есть и используется метод `put`. В остальном они используют все те же инструменты. Дополнительно перенаправляют пользователя в таблицу после успешного запроса.
